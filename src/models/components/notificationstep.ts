/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { remap as remap$ } from "../../lib/primitives.js";
import { DelayRegularMetadata, DelayRegularMetadata$ } from "./delayregularmetadata.js";
import { DelayScheduledMetadata, DelayScheduledMetadata$ } from "./delayscheduledmetadata.js";
import { DigestRegularMetadata, DigestRegularMetadata$ } from "./digestregularmetadata.js";
import { DigestTimedMetadata, DigestTimedMetadata$ } from "./digesttimedmetadata.js";
import { MessageTemplate, MessageTemplate$ } from "./messagetemplate.js";
import { NotificationStepVariant, NotificationStepVariant$ } from "./notificationstepvariant.js";
import { StepFilter, StepFilter$ } from "./stepfilter.js";
import * as z from "zod";

export type ParentId = {};

export type Metadata =
    | DelayScheduledMetadata
    | DelayRegularMetadata
    | DigestTimedMetadata
    | DigestRegularMetadata;

export type ReplyCallback = {};

export type NotificationStep = {
    id?: string | undefined;
    parentId?: ParentId | undefined;
    templateId?: string | undefined;
    active?: boolean | undefined;
    filters?: Array<StepFilter> | undefined;
    metadata?:
        | DelayScheduledMetadata
        | DelayRegularMetadata
        | DigestTimedMetadata
        | DigestRegularMetadata
        | undefined;
    name?: string | undefined;
    replyCallback?: ReplyCallback | undefined;
    shouldStopOnFail?: boolean | undefined;
    template?: MessageTemplate | undefined;
    uuid?: string | undefined;
    variants?: NotificationStepVariant | undefined;
};

/** @internal */
export namespace ParentId$ {
    export const inboundSchema: z.ZodType<ParentId, z.ZodTypeDef, unknown> = z.object({});

    export type Outbound = {};

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, ParentId> = z.object({});
}

/** @internal */
export namespace Metadata$ {
    export const inboundSchema: z.ZodType<Metadata, z.ZodTypeDef, unknown> = z.union([
        DelayScheduledMetadata$.inboundSchema,
        DelayRegularMetadata$.inboundSchema,
        DigestTimedMetadata$.inboundSchema,
        DigestRegularMetadata$.inboundSchema,
    ]);

    export type Outbound =
        | DelayScheduledMetadata$.Outbound
        | DelayRegularMetadata$.Outbound
        | DigestTimedMetadata$.Outbound
        | DigestRegularMetadata$.Outbound;
    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, Metadata> = z.union([
        DelayScheduledMetadata$.outboundSchema,
        DelayRegularMetadata$.outboundSchema,
        DigestTimedMetadata$.outboundSchema,
        DigestRegularMetadata$.outboundSchema,
    ]);
}

/** @internal */
export namespace ReplyCallback$ {
    export const inboundSchema: z.ZodType<ReplyCallback, z.ZodTypeDef, unknown> = z.object({});

    export type Outbound = {};

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, ReplyCallback> = z.object({});
}

/** @internal */
export namespace NotificationStep$ {
    export const inboundSchema: z.ZodType<NotificationStep, z.ZodTypeDef, unknown> = z
        .object({
            _id: z.string().optional(),
            _parentId: z.lazy(() => ParentId$.inboundSchema).optional(),
            _templateId: z.string().optional(),
            active: z.boolean().optional(),
            filters: z.array(StepFilter$.inboundSchema).optional(),
            metadata: z
                .union([
                    DelayScheduledMetadata$.inboundSchema,
                    DelayRegularMetadata$.inboundSchema,
                    DigestTimedMetadata$.inboundSchema,
                    DigestRegularMetadata$.inboundSchema,
                ])
                .optional(),
            name: z.string().optional(),
            replyCallback: z.lazy(() => ReplyCallback$.inboundSchema).optional(),
            shouldStopOnFail: z.boolean().optional(),
            template: MessageTemplate$.inboundSchema.optional(),
            uuid: z.string().optional(),
            variants: NotificationStepVariant$.inboundSchema.optional(),
        })
        .transform((v) => {
            return remap$(v, {
                _id: "id",
                _parentId: "parentId",
                _templateId: "templateId",
            });
        });

    export type Outbound = {
        _id?: string | undefined;
        _parentId?: ParentId$.Outbound | undefined;
        _templateId?: string | undefined;
        active?: boolean | undefined;
        filters?: Array<StepFilter$.Outbound> | undefined;
        metadata?:
            | DelayScheduledMetadata$.Outbound
            | DelayRegularMetadata$.Outbound
            | DigestTimedMetadata$.Outbound
            | DigestRegularMetadata$.Outbound
            | undefined;
        name?: string | undefined;
        replyCallback?: ReplyCallback$.Outbound | undefined;
        shouldStopOnFail?: boolean | undefined;
        template?: MessageTemplate$.Outbound | undefined;
        uuid?: string | undefined;
        variants?: NotificationStepVariant$.Outbound | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, NotificationStep> = z
        .object({
            id: z.string().optional(),
            parentId: z.lazy(() => ParentId$.outboundSchema).optional(),
            templateId: z.string().optional(),
            active: z.boolean().optional(),
            filters: z.array(StepFilter$.outboundSchema).optional(),
            metadata: z
                .union([
                    DelayScheduledMetadata$.outboundSchema,
                    DelayRegularMetadata$.outboundSchema,
                    DigestTimedMetadata$.outboundSchema,
                    DigestRegularMetadata$.outboundSchema,
                ])
                .optional(),
            name: z.string().optional(),
            replyCallback: z.lazy(() => ReplyCallback$.outboundSchema).optional(),
            shouldStopOnFail: z.boolean().optional(),
            template: MessageTemplate$.outboundSchema.optional(),
            uuid: z.string().optional(),
            variants: NotificationStepVariant$.outboundSchema.optional(),
        })
        .transform((v) => {
            return remap$(v, {
                id: "_id",
                parentId: "_parentId",
                templateId: "_templateId",
            });
        });
}
